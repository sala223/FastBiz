<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="
	http://www.springframework.org/schema/beans 
	http://www.springframework.org/schema/beans/spring-beans-3.0.xsd  
	http://www.springframework.org/schema/context
    http://www.springframework.org/schema/context/spring-context-3.0.xsd 
	http://www.springframework.org/schema/security 
	http://www.springframework.org/schema/security/spring-security-3.1.xsd">
	<import resource="classpath:security.xml" />
	<context:component-scan base-package="com.fastbiz.wms.web.service" />
	<bean id="functionGroupSource" class="com.fastbiz.wms.web.service.SystemFunctionGroupSource">
		<property name="functionGroup" ref="systemFunctionGroup" />
	</bean>
	<bean id="functionGroupService" class="com.fastbiz.wms.web.service.DefaultFunctionGroupService">
		<property name="source" ref="functionGroupSource" />
		<property name="enableAuthorization" value="true" />
		<property name="securityExpressionHandler" ref="bizResourceSecurityExpressionHandler" />
		<property name="accessDecisionVoter" ref="bizResourceVoter" />
	</bean>
	<bean id="systemFunctionGroup" class="com.fastbiz.wms.web.model.ui.FunctionGroup">
		<property name="id" value="SYS" />
		<property name="display" value="ROOT" />
		<property name="icon" value="/static/images/fg_root.jpg" />
		<property name="subs">
			<list>
				<bean class="com.fastbiz.wms.web.model.ui.FunctionGroup">
					<property name="id" value="SYS_1" />
					<property name="display" value="SYS_1" />
					<property name="icon" value="/static/images/fg_root.jpg" />
					<property name="accessExpression" value="hasPermission('PER_MASTER_READ') or hasPermission('PER_MASTER_WRITE') or hasPermission('PER_MASTER_DELETE')" />
					<property name="subs">
						<list>
							<bean class="com.fastbiz.wms.web.model.ui.FunctionGroup">
								<property name="id" value="SYS_1_1" />
								<property name="display" value="SYS_1_1" />
								<property name="icon" value="/static/images/fg_root.jpg" />
							</bean>
							<bean class="com.fastbiz.wms.web.model.ui.FunctionGroup">
								<property name="id" value="SYS_1_2" />
								<property name="display" value="SYS_1_2" />
								<property name="icon" value="/static/images/fg_root.jpg" />
							</bean>
						</list>
					</property>
				</bean>
				<bean class="com.fastbiz.wms.web.model.ui.FunctionGroup">
					<property name="id" value="SYS_2" />
					<property name="display" value="SYS_2" />
					<property name="icon" value="/static/images/fg_root.jpg" />
					<property name="accessExpression" value="hasRole('DUR_ADMIN')" />
				</bean>
				<bean class="com.fastbiz.wms.web.model.ui.FunctionGroup">
					<property name="id" value="SYS_3" />
					<property name="display" value="SYS_3" />
					<property name="icon" value="/static/images/fg_root.jpg" />
				</bean>
			</list>
		</property>
	</bean>
</beans>
